{"format":"lakeboard","type":"Board","version":"1.0","diagramData":{"head":{"version":"2.0.0"},"body":[{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px; font-weight:bold;\">AbstractApplicationContext.java</span></div><div style=\"text-align:center;\"><span style=\"font-size:10px;\">finishBeanFactoryInitialization()</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"f982cc8f-e55a-48d1-b683-2e3d687cfbc7","x":-183.98963128105493,"y":-137.87495638272924,"width":237.6272124732883,"height":44.90195734633262,"zIndex":0,"rotate":0},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px; font-weight:700;\">DefaultListableBeanFactory.java</span></div><div style=\"text-align:center;\"><span style=\"font-size:10px;\">preInstantiateSingletons()</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"1d07a11f-18cd-4ed6-819e-573e9c677eac","x":-183.98963128105493,"y":-45.06367988688962,"width":237.6272124732883,"height":44.90195734633262,"zIndex":1,"rotate":0},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px; font-weight:700;\">AbstractBeanFactory.java</span></div><div style=\"text-align:center;\"><span style=\"font-size:10px;\">getBean()</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"d8f102cb-8686-4853-9d97-75122e9d98cd","x":-183.98963128105493,"y":45.55880499773724,"width":237.6272124732883,"height":44.90195734633262,"zIndex":2,"rotate":0},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px; font-weight:700;\">AbstractBeanFactory.java</span></div><div style=\"text-align:center;\"><span style=\"font-size:10px;\">doGetBean()</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"347bd7a5-9c95-4643-8c42-7384f092de63","x":-183.98963128105493,"y":131.09013904614915,"width":237.6272124732883,"height":44.90195734633262,"zIndex":3,"rotate":0},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px; font-weight:700;\">DefaultSingletonBeanRegistry.java</span></div><div style=\"text-align:center;\"><span style=\"font-size:10px;\">getSingleton()</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"d15f622b-28b6-4eeb-9875-ba86901ae85e","x":-183.98963128105493,"y":221.71262393077603,"width":237.6272124732883,"height":44.90195734633262,"zIndex":4,"rotate":0},{"shape":"elbow","target":{"marker":"arrow","id":"1d07a11f-18cd-4ed6-819e-573e9c677eac","connection":[0.5,0]},"type":"line","source":{"id":"f982cc8f-e55a-48d1-b683-2e3d687cfbc7"},"id":"41aaea20-08a5-470f-9616-9f591dc96013","zIndex":5,"stroke":{"width":1}},{"shape":"elbow","target":{"marker":"arrow","id":"d8f102cb-8686-4853-9d97-75122e9d98cd","connection":[0.5,0]},"type":"line","source":{"id":"1d07a11f-18cd-4ed6-819e-573e9c677eac"},"id":"331fbc61-c8d0-419b-92d4-e09543b42e2b","zIndex":6,"opacity":1,"stroke":{"width":1}},{"shape":"elbow","target":{"marker":"arrow","id":"347bd7a5-9c95-4643-8c42-7384f092de63","connection":[0.5,0]},"type":"line","source":{"id":"d8f102cb-8686-4853-9d97-75122e9d98cd"},"id":"e15c85fd-7934-4eda-abce-08cd6c516c3b","zIndex":7,"stroke":{"width":1}},{"shape":"elbow","target":{"marker":"arrow","id":"d15f622b-28b6-4eeb-9875-ba86901ae85e","connection":[0.5,0]},"type":"line","source":{"id":"347bd7a5-9c95-4643-8c42-7384f092de63"},"id":"cb98e160-0dd2-4b5f-9f1a-6602c9a8cca5","zIndex":8,"stroke":{"width":1}},{"type":"geometry","html":"<div style=\"text-align:center;\">sharedInstance != null</div>","shape":"diamond","category":"basic","id":"f45fc6b9-7c01-4395-9a75-265e71f3454f","x":-165.47169651784617,"y":356.60187001045944,"width":200.59134294687078,"height":100,"zIndex":9,"rotate":0,"stroke":{"width":1}},{"type":"text","html":"&#8203;<br>","shape":"text","category":"basic","id":"432f7df4-4277-4d88-81d8-5da19d903864","x":22.900891705288757,"y":321.355623824891,"zIndex":10,"width":254.55754181074974,"height":72.3941718618936,"rotate":0},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:12px;\">普通的bean第一次进来后都会走入这个判断，因为sharedInstance都会为null</span><br></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"d25b6274-96ae-443a-a38b-7e94e8c3c76e","x":35.11964642902461,"y":321.355623824891,"width":293.25028816598365,"height":60.07557986733684,"rotate":0,"zIndex":11,"fill":{"color":"#FBD3D0"}},{"shape":"elbow","target":{"marker":"arrow","id":"f45fc6b9-7c01-4395-9a75-265e71f3454f","connection":[0.5,0]},"type":"line","source":{"id":"d15f622b-28b6-4eeb-9875-ba86901ae85e"},"id":"e2352112-cc34-416c-ae28-4ac976c07a8c","zIndex":12,"stroke":{"width":1}},{"shape":"elbow","target":{"marker":"arrow","id":"2785e794-f5f3-4b49-b31e-14f50603dd5e","connection":[0,0.5]},"type":"line","source":{"id":"f45fc6b9-7c01-4395-9a75-265e71f3454f"},"id":"d3f9dae9-b449-4714-87a9-05e5329c50bc","zIndex":13,"stroke":{"width":1},"controlPoints":[[-452.95650594742585,521.5027915626655,"H"]]},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","connection":[235.88263756590447,486.7966872251752]},"source":{"id":"f45fc6b9-7c01-4395-9a75-265e71f3454f","connection":[1,0.5]},"type":"line","id":"a0e9d8db-8234-49f7-ba10-c65a2aafcdd7","zIndex":14,"controlPoints":[[135.50114199746454,406.60187001045944,"V"],[235.88263756590447,446.6992786178173,"H"]]},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px;\">sharedInstance =getSingleton(beanName, () -&gt; {</span></div><div style=\"text-align:center;\"><span style=\"font-size:10px;\">return createBean(beanName, mbd, args);}</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"daa34745-38f9-479d-bfd9-fd1b15c9b61e","x":73.24802052648988,"y":494.81980487427427,"width":323.79719318327363,"height":44.90195734633262,"rotate":0,"zIndex":15},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px;\">AbstractBeanFactory#createBean接口</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"bdcbae66-2de4-426a-8f70-7068fafdbcfd","x":73.24802052648988,"y":670.9736238073131,"width":323.79719318327363,"height":44.90195734633262,"rotate":0,"zIndex":16},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px;\">singletonObject = singletonFactory.getObject();</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"c6369f7d-5cf6-4f3f-a20e-bd5092e41058","x":73.24802052648988,"y":581.3693690899293,"width":323.79719318327363,"height":44.90195734633262,"rotate":0,"zIndex":17},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"c6369f7d-5cf6-4f3f-a20e-bd5092e41058","connection":[0.5,0]},"source":{"id":"daa34745-38f9-479d-bfd9-fd1b15c9b61e"},"type":"line","id":"ca2a45bd-12bc-4895-92a2-79ca9d5a475d","zIndex":18},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"bdcbae66-2de4-426a-8f70-7068fafdbcfd","connection":[0.5,0]},"source":{"id":"c6369f7d-5cf6-4f3f-a20e-bd5092e41058"},"type":"line","id":"06607b02-49bf-4930-850f-2e7f253b1eab","zIndex":19},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px;\">AbstractBeanFactory#getObjectForBeanInstance</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"2785e794-f5f3-4b49-b31e-14f50603dd5e","x":-382.18307395059577,"y":648.5725601279672,"width":323.79719318327363,"height":44.90195734633262,"rotate":0,"zIndex":20},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px;\">return Bean</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"2c9127a4-edfc-423e-ae9b-0857e5e2f5d5","x":-314.97988291255785,"y":767.8053196830388,"width":189.39081110719775,"height":44.90195734633262,"rotate":0,"zIndex":21},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","connection":[0.5,0],"id":"2785e794-f5f3-4b49-b31e-14f50603dd5e"},"source":{"id":"daa34745-38f9-479d-bfd9-fd1b15c9b61e","connection":"W"},"type":"line","id":"718e1f5f-0658-4666-88f3-49aec6990955","zIndex":22,"textPosition":0.8177032387498626,"html":"<div style=\"text-align:center;\"><span style=\"font-size:12px;\">get不等于null</span></div><div style=\"text-align:center;\"><span style=\"font-size:12px;\">该方法首先从缓存中取对象，</span><span style=\"font-size:12px;\">如果有对象首先直接调用下面方法</span></div>","opacity":1},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"2c9127a4-edfc-423e-ae9b-0857e5e2f5d5","connection":[0.5,0]},"source":{"id":"2785e794-f5f3-4b49-b31e-14f50603dd5e"},"type":"line","id":"2aaba635-fbe8-4da5-8726-edbc3fa752d4","zIndex":23,"controlPoints":[[-220.28447735895895,730.6399185786693,"H"]]},{"type":"geometry","html":"<div style=\"text-align:center;\">&nbsp;</div>","shape":"rect","category":"basic","id":"394f31a2-94df-4d66-9bc3-42545f85edff","x":8.081289822937947,"y":822.8895787018014,"width":454.1306545903775,"height":209.75541445205795,"zIndex":24,"rotate":0,"stroke":{"width":1},"fill":{"color":"#9DD1A6"}},{"type":"geometry","html":"<div style=\"text-align:center;\">AbstractAutowireCapableBeanFactory#createBean</div>","shape":"rect","category":"basic","id":"19cef5f8-ef72-40a3-aeb8-cd54f6f8caf7","x":40.664655174714085,"y":849.2866267636828,"width":388.9639238868252,"height":44.901957346332665,"zIndex":25,"stroke":{"width":1},"rotate":0},{"type":"geometry","html":"<div style=\"text-align:center;\">AbstractAutowireCapableBeanFactory#doCreateBean</div>","shape":"rect","category":"basic","id":"985f0e3d-73a7-4323-a8cf-91b1652466bf","x":40.664655174714085,"y":943.9820323172816,"width":388.9639238868252,"height":44.901957346332665,"stroke":{"width":1},"rotate":0,"zIndex":26},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","connection":[0.5,0],"id":"394f31a2-94df-4d66-9bc3-42545f85edff"},"source":{"id":"bdcbae66-2de4-426a-8f70-7068fafdbcfd","connection":"S"},"type":"line","id":"00dd2acb-c716-4700-850b-f68d9f5f1f41","controlPoints":[],"zIndex":27,"opacity":1,"html":"<div style=\"text-align:center;\"><span style=\"font-size:12px;\">AbstractAutowireCapableBeanFactory#createBean</span></div>"},{"type":"text","html":"false","shape":"text","category":"basic","id":"5ad09be6-c59a-479d-a5a4-3c73de876110","x":96.26843111632286,"y":413.48411518367925,"zIndex":28,"width":63.13027036906567,"height":23.41929384658897,"rotate":0},{"type":"text","html":"true","shape":"text","category":"basic","id":"29b3bc17-1749-4877-985b-79c9c1c291e4","x":-367.02629497924204,"y":414.5023453509223,"zIndex":29,"width":89.60425471738358,"height":23.41929384658897,"rotate":0},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"daa34745-38f9-479d-bfd9-fd1b15c9b61e","connection":[0.9048873991756871,0]},"source":{"id":"d15f622b-28b6-4eeb-9875-ba86901ae85e"},"type":"line","id":"c6e7d76e-dbf1-4009-94a4-e7a40f8653a3","zIndex":30},{"shape":"elbow","target":{"marker":"arrow","id":"985f0e3d-73a7-4323-a8cf-91b1652466bf","connection":[0.5,0]},"type":"line","source":{"id":"19cef5f8-ef72-40a3-aeb8-cd54f6f8caf7"},"id":"270ab998-ff5c-430f-ba05-906b7efab897","zIndex":31,"opacity":1,"stroke":{"width":1}},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px;\">DefaultSingletonBeanRegistry#addSingletonFactory</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"b23d0cad-fa63-4a97-a5a9-079cb58f8176","x":67.7579864335188,"y":1076.3519540588716,"width":323.79719318327363,"height":44.90195734633262,"rotate":0,"zIndex":32},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px;\">AbstractAutowireCapableBeanFactory#populateBean</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"53c03ecc-5bfd-4a2f-b7a3-34779b0f3633","x":73.24802052648988,"y":1181.2296612849002,"width":323.79719318327363,"height":44.90195734633262,"rotate":0,"zIndex":33},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"b23d0cad-fa63-4a97-a5a9-079cb58f8176","connection":[0.5,0]},"source":{"id":"394f31a2-94df-4d66-9bc3-42545f85edff","connection":[0.487910892961139,1]},"type":"line","id":"f5b622eb-c428-4227-90e4-f6720458fbe3","zIndex":34,"opacity":1,"controlPoints":[]},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"53c03ecc-5bfd-4a2f-b7a3-34779b0f3633","connection":[0.4830448372976981,0]},"source":{"id":"b23d0cad-fa63-4a97-a5a9-079cb58f8176"},"type":"line","id":"781227f1-3397-4f51-9724-acc66911cbc5","zIndex":35},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:12px;\">注意这个类里面的两个getSingleton()重载方法是不一样的</span><br></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"78027c66-e13b-4c40-975b-be37290d4858","x":144.1252489767437,"y":175.99209639248176,"width":224.0106367934593,"height":60.07557986733684,"rotate":0,"fill":{"color":"#FBD3D0"},"zIndex":36},{"type":"geometry","html":"<div style=\"text-align:center;\">&nbsp;</div>","shape":"rect","category":"basic","id":"df8573a2-805e-4b99-bc5b-321fbbf7145b","x":508.6516488497375,"y":1064.1331920519553,"width":454.1306545903775,"height":209.75541445205795,"rotate":0,"stroke":{"width":1},"fill":{"color":"rgba(231,167,144,1)"},"zIndex":37},{"type":"geometry","html":"<div style=\"text-align:center;\">CommonAnnotationBeanPostProcessor</div>","shape":"rect","category":"basic","id":"6f41e589-7816-4bb5-b3ee-3bd1f9b770c8","x":541.2350142015136,"y":1090.0980613166516,"width":388.9639238868252,"height":44.901957346332665,"stroke":{"width":1},"rotate":0,"zIndex":38},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:14px;\">AutowiredAnnotationBeanPostProcessor</span></div>","shape":"rect","category":"basic","id":"094a3fb2-bfd5-4d78-9d94-e7b24adc0429","x":541.2350142015136,"y":1175.6293953650634,"width":388.9639238868252,"height":44.901957346332665,"stroke":{"width":1},"rotate":0,"zIndex":39},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"df8573a2-805e-4b99-bc5b-321fbbf7145b","connection":[0,0.665286511295308]},"source":{"id":"53c03ecc-5bfd-4a2f-b7a3-34779b0f3633"},"type":"line","id":"93483150-53d3-4c9b-9358-2f76184f074c","zIndex":40},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:14px;\">InjectionMetadata#inject</span></div>","shape":"rect","category":"basic","id":"50377b3c-965f-4903-b6d4-52680e26f506","x":541.2350142015138,"y":1356.8743651343175,"width":388.9639238868252,"height":44.901957346332665,"stroke":{"width":1},"rotate":0,"zIndex":41},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"50377b3c-965f-4903-b6d4-52680e26f506","connection":[0.49999999999999983,0]},"source":{"id":"df8573a2-805e-4b99-bc5b-321fbbf7145b"},"type":"line","id":"ec48dfcb-6302-482b-a31c-d078e59ac6a1","zIndex":42},{"type":"geometry","html":"<div style=\"text-align:center;\">&nbsp;</div>","shape":"rect","category":"basic","id":"9ef3d212-1783-45f6-8936-1d2566dd3ba3","x":508.65164884973757,"y":913.4850422938121,"width":454.1306545903775,"height":105.89593739327177,"rotate":0,"stroke":{"width":1},"fill":{"color":"#69B1E4"},"zIndex":43},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:12px;\">AbstractAutowireCapableBeanFactory#createBeanInstance</span></div>","shape":"rect","category":"basic","id":"7d1c954f-828a-43b7-a0aa-0621264235c9","x":541.2350142015139,"y":943.9820323172817,"width":406.0744328733347,"height":44.901957346332665,"stroke":{"width":1},"rotate":0,"zIndex":44},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"9ef3d212-1783-45f6-8936-1d2566dd3ba3","connection":[0,0.49999999999999944]},"source":{"id":"985f0e3d-73a7-4323-a8cf-91b1652466bf"},"type":"line","id":"287fd160-7c21-4db2-9a21-89eb9bede35f","zIndex":45},{"type":"geometry","html":"<div style=\"text-align:center;\">判断构造方法</div>","shape":"diamond","category":"basic","id":"e3f1109a-cde3-4949-9227-faa3f027cd67","x":1175.3930045372801,"y":829.8266399635204,"width":189.3908111071978,"height":100,"zIndex":46,"stroke":{"width":1},"rotate":0},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"e3f1109a-cde3-4949-9227-faa3f027cd67","connection":[0.5,1]},"source":{"id":"9ef3d212-1783-45f6-8936-1d2566dd3ba3"},"type":"line","id":"41a218e8-aa84-47d3-9117-7bb1c0a811cb","zIndex":47,"controlPoints":[[1116.435356765497,967.4262836607807,"V"],[1270.088410090879,949.1230981473169,"H"]]},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px;\">AbstractAutowireCapableBeanFactory</span></div><div style=\"text-align:center;\"><span style=\"font-size:10px;\">#instantiateUsingFactoryMethod</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"3ff3deec-069b-4073-8f1d-3087e1f042dd","x":703.7529575368745,"y":722.5169709419291,"width":323.79719318327363,"height":44.90195734633262,"rotate":0,"zIndex":48},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px;\">AbstractAutowireCapableBeanFactory</span></div><div style=\"text-align:center;\"><span style=\"font-size:10px;\">#autowireConstructor</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"f6b8dd58-ce75-48a5-9312-c86e6eb72538","x":1086.607500420242,"y":715.8755811536457,"width":323.79719318327363,"height":44.90195734633262,"rotate":0,"zIndex":49},{"type":"geometry","html":"<div style=\"text-align:center;\"><span style=\"font-size:10px;\">AbstractAutowireCapableBeanFactory</span></div><div style=\"text-align:center;\"><span style=\"font-size:10px;\">#instantiateBean</span></div>","stroke":{"width":1},"shape":"rect","category":"basic","id":"794f394a-620d-4afa-a29e-a032d777e41f","x":1462.3344321329087,"y":715.8755811536457,"width":323.79719318327363,"height":44.90195734633262,"rotate":0,"zIndex":50},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"3ff3deec-069b-4073-8f1d-3087e1f042dd","connection":[0.4678741541927944,1]},"source":{"id":"e3f1109a-cde3-4949-9227-faa3f027cd67"},"type":"line","id":"e6cc2e76-b194-47ca-a3ff-ea27c5201750","zIndex":51,"textPosition":0.9065008457651469,"html":"<div style=\"text-align:center;\"><span style=\"font-size:12px;\">factoryMethod</span></div>","opacity":1},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"f6b8dd58-ce75-48a5-9312-c86e6eb72538","connection":[0.5660377358490563,1]},"source":{"connection":[1269.8889305239818,830.4493686696871]},"type":"line","id":"fb2b2d29-087e-4246-b647-a00c3179119d","zIndex":52,"textPosition":0.6355905902799329,"html":"<div style=\"text-align:center;\"><span style=\"font-size:12px;\">特殊构造方法</span></div>"},{"shape":"elbow","stroke":{"width":1,"color":"#595959"},"target":{"marker":"arrow","id":"794f394a-620d-4afa-a29e-a032d777e41f","connection":[0.5,1]},"source":{"id":"e3f1109a-cde3-4949-9227-faa3f027cd67"},"type":"line","id":"01e1b3a5-5116-4b56-9123-3fa271ed2fc9","zIndex":53,"textPosition":0.8957388689192664,"html":"<div style=\"text-align:center;\"><span style=\"font-size:12px;\">普通构造方法</span></div>"}]},"mode":"edit","viewportSetting":{"zoom":0.9820962216309508,"tlCanvasPoint":[-848.0298173414557,10.774084039073166,1],"width":1680,"height":784},"viewportOption":"adapt","text":"AbstractApplicationContext.javafinishBeanFactoryInitialization()DefaultListableBeanFactory.javapreInstantiateSingletons()AbstractBeanFactory.javagetBean()AbstractBeanFactory.javadoGetBean()DefaultSingletonBeanRegistry.javagetSingleton()sharedInstance != null​普通的bean第一次进来后都会走入这个判断，因为sharedInstance都会为nullsharedInstance =getSingleton(beanName, () -> {return createBean(beanName, mbd, args);}AbstractBeanFactory#createBean接口singletonObject = singletonFactory.getObject();AbstractBeanFactory#getObjectForBeanInstancereturn Beanget不等于null该方法首先从缓存中取对象，如果有对象首先直接调用下面方法 AbstractAutowireCapableBeanFactory#createBeanAbstractAutowireCapableBeanFactory#doCreateBeanAbstractAutowireCapableBeanFactory#createBeanfalsetrueDefaultSingletonBeanRegistry#addSingletonFactoryAbstractAutowireCapableBeanFactory#populateBean注意这个类里面的两个getSingleton()重载方法是不一样的 CommonAnnotationBeanPostProcessorAutowiredAnnotationBeanPostProcessorInjectionMetadata#inject AbstractAutowireCapableBeanFactory#createBeanInstance判断构造方法AbstractAutowireCapableBeanFactory#instantiateUsingFactoryMethodAbstractAutowireCapableBeanFactory#autowireConstructorAbstractAutowireCapableBeanFactory#instantiateBeanfactoryMethod特殊构造方法普通构造方法","graphicsBBox":{"x":-452.9565124511719,"y":-139.92398071289062,"width":2239.088134765625,"height":1541.7003173828125}}
