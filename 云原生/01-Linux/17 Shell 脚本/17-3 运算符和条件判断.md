**笔记来源：**[**3天搞定Linux，1天搞定Shell，清华学神带你通关**](https://www.bilibili.com/video/BV1WY4y1H7d3?p=9&vd_source=e8046ccbdc793e09a75eb61fe8e84a30)



# 1 运算符 
基本语法

```powershell
$((运算式))
# 或者
$[运算式]
```

案例实操: 计算 (2+3)* 4 的值

```powershell
S=$[(2+3)*4]
echo $S
```

```powershell
[admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
$S=$[(2+3)*4]

[admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
$echo $S
20
```

# 2 条件判断 
## 2.1 基本语法
```powershell
test condition
[ condition ]   #(注意 condition 前后要有空格) 
```

```powershell
[admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
$S=$[(2+3)*4]

[admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
$echo $S
20

[admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
$test $S=20

[admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
$echo $?
0
```

注意：条件非空即为 true，[ atguigu ] 返回 true，[  ] 返回 false。 

## 2.2 常用判断条件 	
两个整数之间比较 

+ `-eq`  等于（equal）
+ `-ne`  不等于（not equal） 
+ `-lt`  小于（less than）
+ `-le`  小于等于（less equal）
+ `-gt`  大于（greater than）
+ `-ge`  大于等于（greater equal）

注：如果是字符串之间的比较 ，用等号 `=` 判断相等；用 `!=` 判断不等。 



按照文件权限进行判断 

+ `-r` 有读的权限（read）
+ `-w` 有写的权限（write）
+ `-x` 有执行的权限（execute）



按照文件类型进行判断 

+ `-e` 文件存在（existence）
+ `-f` 文件存在并且是一个常规的文件（file）
+ `-d` 文件存在并且是一个目录（directory）



案例实操

1. 23 是否大于等于 22 

   ```shell
   [ 23 -ge 22 ]
   echo $?
   ```

   ```shell
   [admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
   $[ 23 -ge 22 ]

   [admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
   $echo $?
   0
   ```


2. helloworld.sh 是否具有写权限

   ```shell
   [ -w helloworld.sh ]
   echo $?
   ```

   ```shell
   [admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
   $[ -w helloworld.sh ]

   [admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
   $echo $?
   0
   ```


3. /home/admin/cg/test.sh 目录中的文件是否存在

   ```shell
   [ -e /home/admin/cg/test.sh ]
   echo $?
   ```

   ```shell
   [admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
   $[ -e /home/admin/cg/test.sh ]

   [admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
   $echo $?
   0
   ```


4. 多条件判断（`&&` 表示前一条命令执行成功时，才执行后一条命令，`||` 表示上一条命令执行失败后，才执行下一条命令) 

   ```shell
   [ atguigu ] && echo OK || echo notOK

   [ ] && echo OK || echo notOK
   ```

   ```shell
   [admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
   $[ atguigu ] && echo OK || echo notOK
   OK

   [admin@dha-api-aliyun011162092172.nt12 /home/admin/cg]
   $[ ] && echo OK || echo notOK
   notOK
   ```



