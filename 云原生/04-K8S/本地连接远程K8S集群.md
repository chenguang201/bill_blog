操作步骤

1. <font style="color:rgb(77, 77, 77);">安装</font>[kubectl](https://so.csdn.net/so/search?q=kubectl&spm=1001.2101.3001.7020)<font style="color:rgb(77, 77, 77);">工具</font>
    1. <font style="color:rgb(77, 77, 77);">从官方链接下载适合服务器所在平台的</font>[<font style="color:rgb(77, 77, 77);">kubectl</font>](https://so.csdn.net/so/search?q=kubectl&spm=1001.2101.3001.7020)<font style="color:rgb(77, 77, 77);">二进制文件</font>

```python
curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.22.1/bin/linux/amd64/kubectl
 
chmod +x ./kubectl
 
sudo mv ./kubectl /usr/local/bin/kubectl
```

2. 获取远程集群的kube config文件，一般是在master节点上

```python
scp root@192.168.1.200:/root/.kube/config /tmp/
```

将拷贝过来放在/tmp下的config文件放在 $HOME/.kube/config文件里

如果本地没有.kube/config文件，则创建

```powershell
[root@cg0820 ~]# mkdir /root/.kube
[root@cg0820 ~]# touch /root/.kube/config
```

因为用的是root用户，所以家目录则是/root

3. 查看是否能访问远程集群

```powershell
kubectl get node
```

     至此我们就可以访问集群了



注意：我们来看看远程集群的.kube/config放的是什么东西呢？如下

```yaml
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJek1EWXhPREV3TlRBek9Gb1hEVE16TURZeE5URXdOVEF6T0Zvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBSjBvClFJZjhSbmJObUJpUkt3bEg5RE1JdTRRR3VPV09tZVpKWDVpcGxaZjJUYStnOWFWZzhCYnh0ZzRmS0p5c0RmcFIKNXdhQ1EyckliQjVmTjBrdVVVOFBQbVpaK3V3TjBoL05NNTBMYzk5V3puT0hUSFF5TlMweVhwNUthYWpPVWlzTQp4WEdBZ09HR2wzUWcxNzBXZHZqTGhGcUtQNytpTGl5Y1pRc0ZSOGE2QmIzeGkrQTJ1NnhGTllEUEl4TmN2N0ZyClR5UXlNZDFxa2lYMkR0dmpBZzBzbDhvN2tpa1UwdzBiK1lmWU9lMUxzUFFwZWJ4RUJnZm84VDE5cGMxZmZpdEwKOUFWU1FWWTZuc0RoSGovb3VFV1dCUVFGMzBzVDV0UWViRVRDNXNxYTVDT1l3ZEdmYmdpS0NFZVVDWkh2MVc5bAo4dTdkQkJvQ1JFMTE1UDFwUUdzQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFKTlplbGMzZ0NQaXNtMElKbmJ2bVRHcmY0UzcKZmxRUXRYbVBJUnY0U0xOTXc2Z3pJbHNWOVR0OGYzZDlObXBoa1BhZlM0NjFBRWhEWTNqWjd0ajZ2OWYvemQxOQpmeG9LOXhtdjM0YWs1ZVFNNFlpR1h5bVFJNTZwclJiUTRhVmFUY1hpa0VCMEtiTU13ekVKaGJhM0hnRUZiRXhhCkR4dXFhdUVidUlYaFRLWnBmSGt1VzVHL0tZb1g2dHpEdUl5QWw5UlZTTjhSMGdqRW1YdWVNc2liOHErM1R1QVcKQXFNWERjQjVyYVpYdzFHak9lSG8wRDVjeVQvVWtCSHNIN2k3czBva0dzM0lwVHRTcHg2SFdiZGJLeTBEc0dkOQovTWYwbTduK284QzVVNXA2alVxQXkrTW9uMHVPbGFwb3pPU1RPMDR5WTdPc2h6TFNORXBYcXVzRzMyMD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    server: https://192.168.1.200:6443
  name: kubernetes
contexts:
- context:
    cluster: kubernetes
    user: kubernetes-admin
  name: kubernetes-admin@kubernetes
current-context: kubernetes-admin@kubernetes
kind: Config
preferences: {}
users:
- name: kubernetes-admin
  user:
    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM4akNDQWRxZ0F3SUJBZ0lJYTF0dVh3TWN6Um93RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TXpBMk1UZ3hNRFV3TXpoYUZ3MHlOREEyTVRjeE1EVXdOREZhTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTRiK0FHNW5OVWpLcDVhSGoKaXRTeW11Yi9lS2JwWnlCbllkbk9VWlJWVnBYQ3RMeGtRRXVNMThIckpGdG90QTFCdm1qTzR4c1c5ekhmWUM4bQpGc0czejFScURKZVlKKzZPZWhOdHRkMU9iYXRXeXNJY2pUMjc1WFB6NEw2UitlTm1lUFIxZy9LZ1Z1L2pmbmYwCmhIMmtBd04rT3FyYWVORVRTSWVXcGF3cDU2eUN1WFozeFU3MTl5TU9sUStNMGw1ZFFkZWE5Tm13bzhQQmU5V00KNUVvS0lpR2ZqdGxCeUVCKzluSFZSR1NFQ3NQS0pNTTl5ZjN3REFkM3dYRm5hNDUxaVhkTUFVRG1vb2Z3TlVmTgpXeUVuaHBQRitYNk1ITEJsaG81aFowNVVVYSt6Y0pUWGlTL2g1VTBuWkpINFZHNUVMU3REQ1NVMHVIZWNIUkZhCkdwZlVuUUlEQVFBQm95Y3dKVEFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFJYlRjUXFCYm1JSm9UNllHUXhCSmtQYTFRMm1YbE5HbVZNMwpXSmFNR0VnZ2w5aEkvVjBoQXFXbkpKRERNOUo0RGZLOGtEMmFvNUUzVWFQZnVES1huUFJhQ2k2S1J1Ty9NeEZyCkwxM0JJKzJHbEZoM3hPb1QyQUliR0Z4WHhjN2VrZVp1L2FaTldnUDVjMi8vRi8vZy9qMGlMcmJFNnBuam44WnAKN0NlUXd2Yi9xb0loT09WWEhjcDlZTjVveFdSK2RCNkVuSDAwNUd3aGYzNjZBYmJob3dodWpQaGNvekhSMG50eQpPOWR2WWFVU25uRE1NeTczV095K3JRRUk3b2cyMWJnelFiRnEvTFdjSGM4Q0tXUjYwQjFKUmYzSVJDQkt3SlJjClpZWTM1bGpWcHVVbU5WQU9zcVBTeExaOENLYjZ4NmpFeFV1UlNGcWU5KzBuVC9FbUlzND0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBNGIrQUc1bk5VaktwNWFIaml0U3ltdWIvZUticFp5Qm5ZZG5PVVpSVlZwWEN0THhrClFFdU0xOEhySkZ0b3RBMUJ2bWpPNHhzVzl6SGZZQzhtRnNHM3oxUnFESmVZSis2T2VoTnR0ZDFPYmF0V3lzSWMKalQyNzVYUHo0TDZSK2VObWVQUjFnL0tnVnUvamZuZjBoSDJrQXdOK09xcmFlTkVUU0llV3Bhd3A1NnlDdVhaMwp4VTcxOXlNT2xRK00wbDVkUWRlYTlObXdvOFBCZTlXTTVFb0tJaUdmanRsQnlFQis5bkhWUkdTRUNzUEtKTU05CnlmM3dEQWQzd1hGbmE0NTFpWGRNQVVEbW9vZndOVWZOV3lFbmhwUEYrWDZNSExCbGhvNWhaMDVVVWEremNKVFgKaVMvaDVVMG5aSkg0Vkc1RUxTdERDU1UwdUhlY0hSRmFHcGZVblFJREFRQUJBb0lCQUIzMFF4Tm1mUkFER1BnWApXeEg0MXhvbXZJOU4xbnFRbWljcHQyNnJ1QWNkS0JERFRxb1pYRDdreEVhMnVsWHB6R2R2a01RaHZCSmcwN3IzCmhwNU9aZzFrcmcydHI4cmNwSnNlS05pUTNPOUFaT3ZTaGVkWDRhNjRqQXV1UGNCaXBCNDRrYjlJV200dXRvajUKY2NDQ3kxaDdCaXpTcnRxSkkzM2tQK0VMenlPbVNIMjZPbkFjTXdBaFdySksvdWd1Ujgyd3pLWUNVWjdQUkxwaApDVnN0TFVqczh3MHdXMTU3T2dybnZxemR5akN2c0F2SjlQN0F3dUZ4V0VBcG4rVk9sTnp1R1BEdjlFL2VaNlU5Cmc1VFM0YzhNUHRWTkRaVTBZUDh6RElTQkdKRHdhZmp0RmRLNFNJNnRLWnRqSGpuT3BtUmNxS3BHRGdTeXdsb0oKNXNoWFppRUNnWUVBNk1sNmVMbTYvSktCQ21XSXlFL280Tld3aFN5YjR3OGNRd0VHTStUbEZieUIvbU5iVllFZAo3YkhHQVZEVnlENWdKeVdUSUZpbi9WVHlPeVJyU3hCR2Q1SmtEeDNvM0RZMUljZkVEcHhuTHZ6ZmNkaFQrZVdqCnZtajBqZnBPaTNJNG5IaytZWXF5N3Y3b3RkbE5RZFNwNUNxSWF6Snd5NmFJTE5UM3kxbkVONzhDZ1lFQStFSlYKUC9vd3U0L1dzQUJCdWtvRTZaVWRIL0c0d0IrVVVFVnFOQ0pMQ1BFM0xtbk5SZ3FtY0IzQ1kvSzROaExBYUFSUAphakxCaDBIbzZUTEEzbkxnaWYyVkVSeUw3eHZ2TXg1M2VXK2ozNFJZVG02STdRNC9rM2FCT1MzejNCLzNXM1hWCnJHY2NTd0wwelp6SzZBdjg1RWRRdk1sUmZNV2JZcWlJc2NjOUtxTUNnWUVBdDk1MGV5a1ExZkVPTmQwUEZsRnYKK3k4dVYzSnR5d0lqYTVWQ2hmalZMYjhRMnBNMkVDcUZManROejdvK3NnVDZ3OUQ5RGY2WTZoT1BwVUZWOGh0dgozWUJtd2ozNHNQK3NKZnQ1RTZWY0p4UWJsZnV1RU9QZTIwWmhiRWQ2aE5CNmdMV1BuVklGbFpzSXlxSlNVSjRlCmR4ZFZXMzZpODJpZGhQUE9xZk5FZGxjQ2dZQjJzQi9acWw5S0RJWnpObXcyQjlVNVp4UzVoUEx5eHlZOUNqS3cKSWdVRmpXejRQNVRuKzRkKzZudFpGVjJFWElxb01BZFhtbFJ6dWNzRVVrTnJGampMUC9UWWJYRnBLMDI4ZnNCWAp5a3ZxUEhlTFo4VUdzRjBzdnVjZzB4dFhEZUZRVkpHSER2U3oyQUg1bXhCV3lBUnJqcnpHeE9pMFlqVGJnZjk0Ckh1emJTUUtCZ1FDWmNNSy9ReHhKbnZSVm9RVVVPN3p0dlhHa3BwRU5PMjN5dGh5bTRSRnhJMUhheUZrYmgrNXMKWEk0eU5VdGwyM1prYXhOVUxJd3kraUhxZkZ5WVVhaFhFVmRJdkF1eXNHK2owdTArWE9UZkQ0Y1Erc21QQ2NGcwp0bzBtNVhpbGY3ODRYaFVUd0F6SEg4ZnlUd1g0UW9lMkM1SWJjWG9NOHo3SzcybFFzOGNrN2c9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=
```

我们也可以手动的将内容复制下来，然后手动的在本地的.kube/config文件中粘贴进去，这样就可以不用命令操作了。



如果要在本地管理操作多个集群，并且要时常切换集群的话，可以使用kubecm来处理。下载是kubecm的官方文档。

[KubeCM - Manage your kubeconfig more easily](https://kubecm.cloud/)

